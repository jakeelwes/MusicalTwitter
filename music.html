<html><head>
  <script src="Tone.min.js"></script>
  <script src="formatLetters.js"></script>
  <!-- <script src="music.js"></script> -->
  <style> body {padding: 0; margin: 0;} </style>


<script>


var obj = {"created_at":"Wed Mar 16 17:06:29 +0000 2016","id":710150254599888900,"id_str":"710150254599888896","text":"RT @Politprivet: Beautiful Piano Music - Waiting for You https://t.co/Ms0dZzOUc1 с помощью @YouTube","source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":352975784,"id_str":"352975784","name":"Anthony Zheng Gao","screen_name":"Yeahilike","location":"Singapore","url":"http://www.yeahilike.com","description":"Hi, I like Reading, Eating Delicious Food and Watching Movies. Cheers!","protected":false,"verified":false,"followers_count":853,"friends_count":231,"listed_count":186,"favourites_count":32233,"statuses_count":8824,"created_at":"Thu Aug 11 10:53:25 +0000 2011","utc_offset":28800,"time_zone":"Beijing","geo_enabled":false,"lang":"en","contributors_enabled":false,"is_translator":false,"profile_background_color":"C0DEED","profile_background_image_url":"http://pbs.twimg.com/profile_background_images/648589332773662720/FxC3UThH.jpg","profile_background_image_url_https":"https://pbs.twimg.com/profile_background_images/648589332773662720/FxC3UThH.jpg","profile_background_tile":false,"profile_link_color":"0084B4","profile_sidebar_border_color":"000000","profile_sidebar_fill_color":"000000","profile_text_color":"000000","profile_use_background_image":true,"profile_image_url":"http://pbs.twimg.com/profile_images/682494842614632449/PcwWDy6n_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/682494842614632449/PcwWDy6n_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/352975784/1443471685","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"retweeted_status":{"created_at":"Tue Mar 15 14:37:55 +0000 2016","id":709750480633786400,"id_str":"709750480633786368","text":"Beautiful Piano Music - Waiting for You https://t.co/Ms0dZzOUc1 с помощью @YouTube","source":"<a href=\"http://twitter.com\" rel=\"nofollow\">Twitter Web Client</a>","truncated":false,"in_reply_to_status_id":null,"in_reply_to_status_id_str":null,"in_reply_to_user_id":null,"in_reply_to_user_id_str":null,"in_reply_to_screen_name":null,"user":{"id":3204570285,"id_str":"3204570285","name":"Politprivet","screen_name":"Politprivet","location":"Москва, Germany","url":null,"description":"НЕ ДЕЛАЙ ИЗ МУХИ СЛОНА !! Люблю:природу,цветы,животных,юмор,музыку,новости из разных стран.Nature.Animals.Art.Pho.","protected":false,"verified":false,"followers_count":1718,"friends_count":2256,"listed_count":285,"favourites_count":21484,"statuses_count":91630,"created_at":"Sat Apr 25 08:32:00 +0000 2015","utc_offset":null,"time_zone":null,"geo_enabled":false,"lang":"ru","contributors_enabled":false,"is_translator":false,"profile_background_color":"000000","profile_background_image_url":"http://abs.twimg.com/images/themes/theme1/bg.png","profile_background_image_url_https":"https://abs.twimg.com/images/themes/theme1/bg.png","profile_background_tile":false,"profile_link_color":"ABB8C2","profile_sidebar_border_color":"000000","profile_sidebar_fill_color":"000000","profile_text_color":"000000","profile_use_background_image":false,"profile_image_url":"http://pbs.twimg.com/profile_images/599569841100587009/KfZ0DtmL_normal.jpg","profile_image_url_https":"https://pbs.twimg.com/profile_images/599569841100587009/KfZ0DtmL_normal.jpg","profile_banner_url":"https://pbs.twimg.com/profile_banners/3204570285/1431782408","default_profile":false,"default_profile_image":false,"following":null,"follow_request_sent":null,"notifications":null},"geo":null,"coordinates":null,"place":null,"contributors":null,"is_quote_status":false,"retweet_count":1,"favorite_count":1,"entities":{"hashtags":[],"urls":[{"url":"https://t.co/Ms0dZzOUc1","expanded_url":"https://youtu.be/Al6n-HbPXfs","display_url":"youtu.be/Al6n-HbPXfs","indices":[40,63]}],"user_mentions":[{"screen_name":"YouTube","name":"YouTube","id":10228272,"id_str":"10228272","indices":[74,82]}],"symbols":[]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"cs"},"is_quote_status":false,"retweet_count":0,"favorite_count":0,"entities":{"hashtags":[],"urls":[{"url":"https://t.co/Ms0dZzOUc1","expanded_url":"https://youtu.be/Al6n-HbPXfs","display_url":"youtu.be/Al6n-HbPXfs","indices":[57,80]}],"user_mentions":[{"screen_name":"Politprivet","name":"Politprivet","id":3204570285,"id_str":"3204570285","indices":[3,15]},{"screen_name":"YouTube","name":"YouTube","id":10228272,"id_str":"10228272","indices":[91,99]}],"symbols":[]},"favorited":false,"retweeted":false,"possibly_sensitive":false,"filter_level":"low","lang":"cs","timestamp_ms":"1458147989307"};
obj.text = "<p>" + obj.text + "</p>";
delete obj.retweeted_status;
delete obj.entities;

document.write(JSON.stringify(obj));


var dist = new Tone.AutoWah(50, 6, -30).toMaster();
var autoWah = new Tone.AutoWah(50, 6, -30).connect(dist);
var synth = new Tone.SimpleSynth().connect(dist);

var inputSeq = obj.id_str;
var res = inputSeq
.replace(/3/g, "C3,")
.replace(/1/g, "A3,")
.replace(/2/g, "B3,")
.replace(/4/g, "D3,")
.replace(/5/g, "E3,")
.replace(/6/g, "F3,")
.replace(/7/g, "G3,")
.replace(/8/g, "A4,")
.replace(/9/g, "B4,")
.replace(/0/g, "C4,");
var temp = new Array();
temp = res.split(",");

var hi = JSON.stringify(obj);
// hi = ["Gb7", "G8"];


var seq = new Tone.Sequence(function(time, note){
  synth.triggerAttackRelease(note, "2n", time);
//subdivisions are given as subarrays
}, noteify(hi));

seq.start(0);
seq.loop = 1;
Tone.Transport.bpm.value = (Math.floor((Math.random() * 800) + 100));
Tone.Transport.start();

console.log(noteify(hi));
console.log(hi);

</script>


</head>
</html>
